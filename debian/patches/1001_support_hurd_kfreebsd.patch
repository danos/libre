Description: Add build support for GNU/Hurd and GNU/kFreeBSD
Author: Vasudev Kamath <vasudev@copyninja.info>
 Last-Update: 2016-12-28

--- libre-0.5.0.orig/mk/re.mk
+++ libre-0.5.0/mk/re.mk
@@ -239,6 +239,16 @@ ifeq ($(OS),linux)
 	AR		:= ar
 	AFLAGS		:= cru
 endif
+ifeq ($(OS),gnu)
+	CFLAGS		+= -fPIC -DGNU
+	LIBS		+= -ldl
+	LFLAGS		+= -fPIC
+	SH_LFLAGS	+= -shared
+	MOD_LFLAGS	+=
+	APP_LFLAGS	+= -rdynamic
+	AR		:= ar
+	AFLAGS		:= cru
+endif
 ifeq ($(OS),darwin)
 	CFLAGS		+= -fPIC -dynamic -DDARWIN
 ifneq (,$(findstring Apple, $(CC_LONGVER)))
@@ -276,6 +286,16 @@ ifeq ($(OS),freebsd)
 	CFLAGS		+= -fPIC -DFREEBSD
 	LFLAGS		+= -fPIC
 	SH_LFLAGS	+= -shared
+	MOD_LFLAGS	+=
+	APP_LFLAGS	+= -rdynamic
+	AR		:= ar
+	AFLAGS		:= cru
+	HAVE_KQUEUE	:= 1
+endif
+ifeq ($(OS),gnu/kfreebsd)
+	CFLAGS		+= -fPIC -DFREEBSD
+	LFLAGS		+= -fPIC
+	SH_LFLAGS	+= -shared
 	MOD_LFLAGS	+=
 	APP_LFLAGS	+= -rdynamic
 	AR		:= ar
